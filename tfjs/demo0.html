<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>基本单位以及运算</title>
</head>
<body>
<script src="../node_modules/@tensorflow/tfjs/dist/tf.min.js"></script>
<script>
    window.onload = function(){

        let shape = [2, 3];//2行3列
        let a = tf.tensor2d([1.0, 2.0, 3.0, 10.0, 20.0, 30.0], shape);
        a.print();
        a = a.square();
        a.print();

        let b = tf.tensor2d([[1.0, 2.0], [3.0, 4.0]]);
        let c = tf.tensor2d([[0.0, 2.0], [4.0, 6.0]]);
        b.sub(c).print();
        b.mul(c).print();
        b.matMul(c).print();//矩阵运算

        a.dispose();//清除GPU缓存
        b.dispose();
        c.dispose();

        let d = tf.tensor2d([1.0, 2.0, 3.0, 4.0]);
        let average = tf.tidy(() => {
            //tidy会自动清除方法中所涉及的GPU缓存
            return d.mean();
        });
        d.mean().print();
    }
</script>
</body>
</html>
